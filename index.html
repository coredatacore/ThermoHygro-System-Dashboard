<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ThermoHygro System</title>
<link rel="stylesheet" href="style.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1"></script>
</head>
<body>

<header class="main-header container">
    <h2>Dashboard</h2>
    <div class="header-actions">
        <div class="switch-wrap">
            <span class="switch-label">Dark Mode</span>
            <label class="switch">
                <input id="darkSwitch" type="checkbox" aria-label="Toggle dark mode">
                <span class="slider"></span>
            </label>
        </div>
    </div>
</header>

<section class="status-container glass container">
    <div class="status-left">
        <div class="status-pill">
            <span id="systemStatusDot" class="status-dot green"></span>
            <span class="status-icon" aria-hidden="true">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9 12.6l-2-2-1.2 1.2 3.2 3.2 6.2-6.2-1.2-1.2z" fill="currentColor"/>
                </svg>
            </span>
            <span id="systemStatusText">All Systems Normal</span>
        </div>
    </div>

    <div class="status-center">
        <div class="status-pill">
            <span class="status-icon clock" aria-hidden="true">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="12" r="10" fill="currentColor" opacity="0.15"/>
                    <path d="M12 6v6l4 2" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/>
                </svg>
            </span>
            <span id="lastUpdatedText" role="status" aria-live="polite">Last Updated: --</span>
        </div>
    </div>

    <div class="status-right">
        <div class="status-pill">
            <span id="connectionDot" class="status-dot green"></span>
            <span class="status-icon" aria-hidden="true">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="12" r="4" fill="currentColor"/>
                </svg>
            </span>
            <span id="connectionText" role="status" aria-live="polite">Connected</span>
        </div>
    </div>
</section>


<main class="container">
    <div class="gauge-row">
        <div class="gauge-card glass">
            <div class="card-header"><h3>Temperature</h3></div>
            <div class="canvas-wrap"><canvas id="tempGauge"></canvas></div>
            <p id="tempValue" class="gauge-value">-- °C</p>
            <p id="tempStatus" class="gauge-status">--</p>
        </div>

        <div class="gauge-card glass">
            <div class="card-header"><h3>Humidity</h3></div>
            <div class="canvas-wrap"><canvas id="humGauge"></canvas></div>
            <p id="humValue" class="gauge-value">-- %</p>
            <p id="humStatus" class="gauge-status">--</p>
        </div>
    </div>

    <div class="chart-card glass">
        <h3>Temperature / Humidity History</h3>
        <div class="chart-scroll"><div class="chart-wrap"><canvas id="historyChart"></canvas></div></div>
    </div>

    <div class="table-card glass">
        <div class="card-header">
            <h3>Last Readings</h3>
            <button id="exportPdfBtn" class="export-btn" aria-label="Export Last Readings as PDF">Export PDF</button>
        </div>
        <div class="table-scroll">
            <table class="history-table">
                <thead>
                    <tr>
                        <th>Time</th>
                        <th>Temp °C</th>
                        <th>Humidity %</th>
                    </tr>
                </thead>
                <tbody id="historyTableBody"></tbody>
            </table>
        </div>
    </div>
</main>


<script src="script.js"></script>
</body>
</html>
